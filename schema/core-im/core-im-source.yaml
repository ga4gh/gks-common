$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://w3id.org/ga4gh/schema/gks-core-im/1.x/core-im/core-im-source.yaml"
title: GKS Commons Core Information Class Definitions

imports:
  gks.data-types: ../data-types/data-types-source.yaml

$defs:
  Entity:
    description: Anything that exists, has existed, or will exist.
    $comment: >-
      Entity is the root class of the 'gks-common' core information model. All common classes that
      have ids and other general metadata like label, description, type, or extensions descend from
      this class and inherit its attributes.
    heritableProperties:
      id:
        type: string
        description: >-
          The 'logical' identifier of the Entity in the system of record, e.g. a UUID.  This 'id' is
          unique within a given system, but may or may not be globally unique outside the system. It
          is used within a system to reference an object from another.
        $comment: >-
          Note that it is common for implementers to create their own internal logical ids - 
          typically a serially or randomly generated value like a UUID that is assigned to the 
          data object as it is created in a system. But an implementer may choose to re-use an 
          existing, globally unique id from an external system or authority for this purpose 
          (e.g. an HGNC id for a Gene object) - as long as it is unique within the implementing 
          system, and can be used to reference the identified object in this context.
      type:
        type: string
        description: >-
          The name of the class that is instantiated by a data object representing the Entity.  
        $comment: MUST be the label of a concrete class from the data model. 
      label:
        type: string
        description: A primary name for the entity.
      description:
        type: string
        description: A free-text description of the Entity.
      alternativeLabels:
        type: array
        ordered: false
        items:
          type: string
        description: Alternative name(s) for the Entity.
      extensions:
        type: array
        ordered: false
        items:
          $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Extension"
        description: >-
          A list of extensions to the Entity, that allow for capture of information not directly
          supported by elements defined in the model. 
        $comment: >-
          Extension objects have a key-value data structure that allows definition of custom
          fields in the data itself. Extensions are not expected to be natively understood, 
          but may be used for pre-negotiated exchange of message attributes between systems.
    heritableRequired:
      - id
      - type

  DomainEntity:
    inherits: Entity
    description: >-
      An Entity that is specific to a particular biomedical domain such as disease, therapeutics, or genes.
      Domain Entities are considered as 'concept-level' entities, as opposed to particular instances. e.g.
      'Lung Cancer', not 'patient123's lung cancer'. Or 'Erlotinib', not the particular doses given to a
      patient on a specific occasion.
    heritableProperties:
      mappings:
        type: array
        ordered: false
        items:
          $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/ConceptMapping"
        description: >-
          A list of mappings to concepts in terminologies or code systems. Each mapping should
          include a coding and a relation.

  InformationEntity:
    inherits: Entity
    description: >-
      An abstract (non-physical) entity that is about something. It represents the abstract 'information content'
      conveyed by physical or digital information artifacts like books, web pages, data tables, or photographs.
    $comment: >-
      Information Entities represent the abstract 'information content' that can be concretized in 
      physical or digital artifacts such as books, photographs, files, web pages, the neural connections 
      of a human brain, etc. They are independent of any specific language, representational format, or 
      physical/digital medium, and can be simultaneously concretized in many distinct physical artifacts 
      (e.g. all physical copies of the first edition of "War and Peace" carry the same information content, 
      and thus concretize the same Information Entity).
    heritableProperties:
      type:
        type: string
        const: InformationEntity
        default: InformationEntity
        description: MUST be "InformationEntity".
      specifiedBy:
        oneOf:
        - $ref: "#/$defs/Method"
        - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"
        description: >-
          A specification that describes all or part of the process that led to creation of the 
          Information Entity (e.g. a specific experimental protocol or data analysis specification 
          that describe how data were generated, or an evidence interpretation guideline that 
          describes steps taken to interpret data in making a variant pathogenicity classification).
        $comment: >-
          Note that this attribute captures specific *instances* of specifications/methods (e.g. the specific
          electron microscopy method described in https://doi.org/10.1002/cpz1.1045) - as opposed to reporting 
          a *type* of method applied (e.g. 'Transmission Electron Microscopy').          
      contributions:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/Contribution"
        description: >-
          Specific actions taken by an Agent toward the creation, modification, validation, or 
          deprecation of an Information Entity.
        $comment: >-
          This attribute holds one or more Contribution objects, which provide structured descriptions
          of a contribution made to the Information Entity by a particular agent.   
      reportedIn:
        type: array
        ordered: false
        items:
          oneOf:
          - $ref: "#/$defs/Document"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"
        description: A document in which the the Information Entity is reported.
      dateAuthored:
        type: string
        format: datetime
        description: Indicates when the information content expressed in the Information Entity was generated.
        $comment: >-
          The term 'authored' is used in the model to refer to the generation of abstract 'information content', as 
          opposed to creation of a concrete encoding of this information in a specific language, format, or 
          physical artifact. e.g. for a Statement, this attribute captures when the information content expressed 
          in the Statement was first generated by an agent, and metadata about when a particular concrete encoding
          of this information was created (e.g. a written sentence in an article, or json object in a data stream) 
          would live in a RecordMetadata object attached to the Information Entity).
      derivedFrom:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/InformationEntity"
        description: Another Information Entity from which this Information Entity is derived, in whole or in part.
      recordMetadata:
        $ref: "#/$defs/RecordMetadata"
        description: >-
          Provenance metadata about a specific concrete encoding/serialization of information (e.g. as a record in a 
          specific data/knowledgebase, or an online digital resource) - as opposed to provenance about the abstract
          information content a record carries.
        $comment: >-
          This attribute holds a structured RecordMetadata object, which can be used to capture when, how, and 
          by whom a record serialization was generated or modified; what upstream resources it was derived or retrieved 
          from; and record-level administrative information such as versioning and lifecycle status.


  Method:
    type: object
    inherits: InformationEntity
    maturity: draft
    description: >-
      A set of instructions that specify how to achieve some objective. These may vary in the level
      of detail they provide, and in scientific research, these include things like experimental 
      protocols, study designs, data analysis parameters,  curation guidelines, cohort selection
      criteria, and rule sets.
    properties:
      type:
        extends: type
        const: Method
        default: Method
        description: MUST be "Method".
      subtype:
        $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
        description: >-
          A specific type of method that a Method instance represents (e.g. 'Variant Interpretation
          Guideline', or 'Experimental Protocol')
        $comment: >-
          This attribute can be used to report a specific type for the Method, in cases where a model
          does not define Method subclasses for this purpose.  Implementers can define their own set
          of method type codes/terms, to match the needs of their application.
      license:
        type: string
        description: >-
          A specific license that dictates legal permissions for how a method can be used (by whom,
          where, for what purposes, with what additional requirements, etc.)
        $comment: >-
          Where possible, provide a URL pointing to the license or a description of it (e.g. 
          "https://creativecommons.org/licenses/by/4.0/"). Otherwise, provide a free-text name or
          description of the license (e.g. "CC-BY").

  Document:
    type: object
    inherits: InformationEntity
    maturity: draft
    description: >-
      A collection of information, usually in a text-based or graphic human-readable form, intended
      to be read and understood together as a whole.
    $comment: >-
      As an abstract InformationEntity, a Document instance is defined by the informational content
      it conveys, not a particular physical concretization of this information. A single Document
      instance can simultaneously be concretized in different languages, formats, and physical mediums.
    properties:
      type:
        extends: type
        const: Document
        default: Document
        description: Must be "Document"
      subtype:
        $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
        description: >-
          A specific type of document that a Document instance represents (e.g.  'publication',
          'patent', 'pathology report')
        $comment: >-
          This attribute can be used to report a specific type for the Document, in cases where a model
          does not define Document subclasses for this purpose.  Implementers can define their own set
          of document type codes/terms, to match the needs of their application. 
      title:
        type: string
        description: The official title given to the document by its authors.
      urls:
        type: array
        ordered: false
        items:
          type: string
          format: uri
          pattern: "^(https?|s?ftp)://"
        description: One or more URLs from which the content of the Document can be retrieved.
      doi:
        type: string
        pattern: "^10.(\\d+)(\\.\\d+)*/[\\w\\-\\.]+"
        description: >-
          A `Digital Object Identifier <https://www.doi.org/the-identifier/what-is-a-doi/>_`
          for the document.
      pmid:
        type: integer
        description: A `PubMed unique identifier <https://en.wikipedia.org/wiki/PubMed#PubMed_identifier>`_.

  Agent:
    type: object
    inherits: Entity
    maturity: draft
    description: >-
      An autonomous actor (person, organization, or software agent) that bears some form
      of responsibility for an activity taking place, for the existence of an entity, or for
      another agent's activity.
    properties:
      type:
        extends: type
        const: Agent
        default: Agent
        description: MUST be "Agent".
      name:
        type: string
        description: The given name of the Agent.
      subtype:
        type: string
        description: >-
          A specific type of agent the Agent object represents. Must be one of {person, 
          organization, software}
        enum:
          - person
          - organization
          - software

  Activity:
    inherits: Entity
    maturity: draft
    description: >-
      An action or set of actions performed by an agent, that occurs over a period of time. 
      Activities may use, generate, modify, move, or destroy one or more entities.
    heritableProperties:
      subtype:
        type:
          $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
        description: >-
          A specific type of activity the Activity instance represents.
        $comment: >-
          This attribute can be used to report a specific type for the Activity, in cases where 
          a model does not define Activity subclasses for this purpose. Implementers can define 
          their own set of data set type codes/terms, to match the needs of the domain or application.           
      date:
        type: string
        format: date
        description: >-
          The date that the Activity was completed. 
        $comment: >-
          By convention, populate this attribute with the date the activity was completed (e.g. 
          in cases where the activity spans multiple days). The date SHOULD be formatted as a date 
          string in ISO format "YYYY-MM-DD".
      performedBy:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/Agent"
        description: >-
          An Agent who participated in executing the Activity.
      specifiedBy:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/Method"
        description: >-
          A method that was followed in performing an Activity, that describes how it was executed.

  Contribution:
    type: object
    inherits: Activity
    maturity: draft
    description: >-
      An action taken by an agent in contributing to the creation, modification, assessment, or
      deprecation of a particular entity (e.g. a Statement, EvidenceLine, DataSet, Publication, etc.)
    properties:
      type:
        extends: type
        const: Contribution
        default: Contribution
        description: MUST be "Contribution".
      contributor:
        extends: performedBy
        minItems: 1
        maxItems: 1
        description: >-
          The agent that made the contribution.
        $comment: >-
          Note that this must be a single agent (which can be a Person, or an Organization).
          If multiple Agents contributed to an entity, a separate Contribution instances MUST be
          created for each. 
      activityType:
        $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
        description: >-
          The specific type of activity performed or role played by an agent in making the contribution
          (e.g. for a publication, agents may contribute as a primary author, editor, figure designer,
          data generator, etc. . Values of this property may be framed as activities or as contribution
          roles (e.g. using terms from the Contribution Role Ontology (CRO).)
  RecordMetadata:
    type: object
    maturity: draft
    description: >-
      A reusable structure that encapsulates provenance metadata about a serialized data record or
      object in a particular dataset (as opposed to provenance about the real world entity this
      record or object represents).
    $comment: >-
      Record-level metadata applies to a specific concrete encoding/serialization of information
      (e.g as a record in a specific data/knowlegebase, or an online digital resource).
      A RecordMetadata object can capture when, how, and by whom a specific record serialization was
      generated or modified; what upstream resources it was derived or retrieved from; and record-level
      administrative information such as versioning and lifecycle status. RecordMetadata objects should
      not be used to describe provenance of the abstract information content or knowledge captured in a
      data record or object - other properties in the model are defined to support this use case.
    properties:
      recordIdentifier:
        type: string
        description: >-
          The identifier of the data record or object described in this RecordMetadata object.
      recordVersion:
        type: string
        description: The version number of the record-level artifact the object describes.
      derivedFrom:
        type: string
        description: >-
          Another data record from which the record described here was derived, through a data
          ingest and/or transformation process. Value should be a string representing the identifier
          of the source record.
      dateRecordCreated:
        type: string
        format: datetime
        description: The date the record was initially created.
      contributions:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/Contribution"
        description: >-
          Describes specific contributions made by an human or software agent to the creation,
          modification, or administrative management of a data record or object.

  EvidenceLine:
    inherits: InformationEntity
    maturity: draft
    type: object
    description: >-
      An independent, evidence-based argument that may support or refute the validity of a specific proposition.
      The strength and direction of this argument is based on an interpretation of one or more pieces of
      information as evidence for or against the target proposition.
    $comment: >-
      Evidence Lines are used to capture various pieces of information (i.e. 'evidence items') that are
      assessed together as an argument for or against some 'target proposition' - to report the direction
      (supports or disputes) and strength (e.g. strong, moderate, weak) that the argument is determined to
      make. For example, the various allele counts and population frequency calculations for the 
      BRCA2 c.8023A>G variant in the ExAC database are evidence items that may be collectively assessed to
      build an EvidenceLine making argument of 'moderate' strength that 'supports' a target proposition that
      the variant is pathogenic for Breast Cancer. 
      
      Evidence Lines are flexible with respect to the granularity of arguments they support, and the
      scope of evidence items they can collectively assess. Narrow scoping will bucket available evidence
      into many, fine-grained Evidence Lines that make the most atomic independently meaningful arguments
      possible. The ACMG Variant Pathogenicity Interpretation Guidelines are an example of a fairly fine-grained
      evidence interpretation framework. Broader scoping approaches may organize the same evidence into fewer
      Evidence Lines that build and assess less atomic arguments based on a wider and more diverse set of evidence
      items.  For example, CIViC curators assess the strength and direction of evidence items at the level of 
      *all information reported in a publication for a specific study* - which can encompass many different results
      and evidence types that under more fine-grained interpretation approaches might be split apart and assessed as
      separate arguments. 
    properties:
      type:
        extends: type
        const: EvidenceLine
        default: EvidenceLine
        description: Must be "EvidenceLine"
      # Note that the `proposition` property below is a proposed addition to the EvidenceLine class that is not
      # yet implemented in the core IM.
      #
      # targetProposition:
      #   $ref: "#/$defs/Proposition"
      #   description: >-
      #     The possible fact against which evidence items contained in an Evidence Line were collectively evaluated,
      #     in determining the overall strength and direction of support they provide. e.g. in an ACMG Guideline-based
      #     assessment of variant pathogenicity, the support provided by distinct lines of evidence are assessed against
      #     a target proposition that a variant is pathogenic for a specific disease.
      evidenceItems:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/InformationEntity"
        description: >-
          An individual piece of information that was evaluated as evidence in building the argument represented
          by an Evidence Line.
        $comment: >-
          A given Evidence Line may be supported by one or many individual evidence items. What matters is that all
          evidence items in a given Evidence Line get collectively assessed and assigned direction and strength as
          a single argument for or against a target proposition. 
          
          Different types and scales of information entity can serve as evidence (experimental measurements or
          observations, data tables or figures, images, prior assertions, etc.) Only when assessed as evidence do
          we consider the information to be an 'Evidence Item'.  For example, a piece of population frequency data
          about BRCA2 c.8023A>G  becomes an Evidence Item when it is assessed for the support it may offer for a
          target proposition (e.g. the prospect of the variant’s pathogenicity). 
      directionOfEvidenceProvided:
        type: string
        enum: [ "supports", "neutral", "disputes" ]
        description: >-
          The direction of support that the Evidence Line is determined to provide toward its target Proposition
          (supports, disputes, neutral)
      strengthOfEvidenceProvided:
        oneOf:
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"
        description: >-
          The strength of support that an Evidence Line is determined to provide for or against its target Proposition, 
          evaluated relative to the direction indicated by the directionOfEvidenceProvided value. 
        $comment: >-
          Values of this attribute can be defined by for a given profile based on domain/application needs, but should
          be framed in qualitative terms (e.g. 'strong', 'moderate', 'weak'). The 'scoreOfEvidenceProvided' attribute
          can be used to report quantitative assessments of evidence provided.          
      scoreOfEvidenceProvided:
        type: number
        description: >-
          A quantitative score indicating the strength of support that an Evidence Line is determined to provide for or
          against its target Proposition, evaluated relative to the direction indicated by the directionOfEvidenceProvided
          value.
          
  Statement:
    inherits: InformationEntity
    description: >-
      A claim of purported truth as made by a particular agent, on a particular occasion. Statements may be used 
      to simply put forth a possible fact (i.e. a 'proposition') as true, or to provide a more nuanced assessment
      of the level of confidence or evidence supporting a particular proposition. 
    $comment: >-
      Primary assertions of knowledge about some subject entity are captured in self-contained Statement
      objects. Organization of assertions into discrete Statement objects allows clear and precise tracking of the evidence
      and provenance that supports each. Statement semantics are explicitly captured using 'subject', 'predicate', and
      'object' attributes, and optional 'qualifier' slot(s). This 'SPOQ' pattern is used to structure the meaning of the
      Statement's "proposition" - the 'possible fact' it assesses or reports to be true.
    $comment: >-      
      The model supports two "modes of use" for Statements, which differ in what they say about their SPOQ proposition, and
      can be distinguished by whether 'direction' and 'strength' or 'score' attributes are populated. 
      
      In "Assertion Mode" a Statement simply reports an SPOQ proposition to be true (e.g. that "BRCA2 c.8023A>G is pathogenic
      for Breast Cancer"), and 'direction', 'strength', and 'score' attributes are not populated.  Thos mode is used by projects
      reporting conclusive assertions about a domain of discourse, but not providing confidence or evidence level assessments.
      
      In "Proposition Assessment Mode" a Statement describes the overall state of evidence and/or confidence surrounding the SPOQ
      proposition - which may or may not be true. The 'direction' and 'strength' or 'score' attributes are populated, which allows for
      Statements to report that "there is very strong evidence supporting the proposition that 'BRCA2 c.8023A>G is pathogenic
      for Breast Cancer'", or "we have high confidence that the proposition 'BRCA2 c.8023A>G is pathogenic for Breast Cancer' is
      false").  This mode is used in curation projects to track the evolving state of support for propositions of interest, as
      curators continue to collect evidence and work toward a conclusive assertion.   
    heritableProperties:
      subject:
        oneOf:
        - type: object
        description: The Entity about which the Statement is made.
        $comment: >-
          While the Core Information Model is domain-agnostic, and supports Statements about any type of
          Entity, for most VA-Spec implementations the subject will be a some type of genetic or molecular
          variation. But data creators may want to make statements about other entities or concepts that
          represent evidence for a Statement about variation (e.g. a statement that a gene is valid for some
          disease is one type of evidence that may support the pathogenicity of a variant that affects that gene).
      predicate:
        type: string
        description: The relationship declared to hold between the subject and the object of the Statement.
        $comment: >-
          When applied to represent a particular type of Statement (via 'Profiling'), implementers can define a value
          set of predicates for the relationships relevant in the domain - ideally using terms from community ontologies
          or terminologies. For example, in a  'Variant Pathogenicity Statement' Profile, the predicate value set might
          include terms from the GENO ontology defining  'pathogenic for condition', 'benign for condition', and
          'uncertain significance for condition' relationships (GENO:0000840, GENO:0000843, GENO:0000845).       
      object:
        oneOf:
        - type: object
        description: An Entity or concept that is related to the subject of a Statement via its predicate.
        $comment: >-
          The object of a Statement can be any Entity or concept that is related to the subject, e.g. for Genetic
          Variation subjects the object is often a disease, drug, gene, molecular consequence, functional impact on
          gene or protein.
      direction:
        description: >-
          A term indicating whether the Statement supports, disputes, or remains neutral w.r.t. the validity of the
          Proposition it evaluates. 
        $comment: >-
          Statements put forth a Proposition that expresses some possible fact about the world, and may provide an
          assessment of this proposition's validity (i.e. how likely it is to be true or false based on evaluated
          evidence). The semantics of the Proposition are captured in the 'subject', 'predicate', 'object', and
          optional 'qualifier' attributes. An assessment of the Proposition's validity can be captured using
          'direction', 'strength', and 'score' attributes. The 'direction' attribute is used to indicate whether the
          Statement's Proposition is *supported* by the agent's assessment (when evidence favors its validity), is
          *disputed* by the agent's assessment (when evidence argues against its validity), or remains *neutral*
          (when conflicting or insufficient evidence exists to assert one direction or the other).
          (Enumerated values = 'supports', 'disputes', 'neutral').
        type: string
        enum:
          - supports
          - neutral
          - disputes          
      strength:
        description: >-
          A term used to report the strength of a Proposition's assessment in the direction indicated (i.e. how
          strongly supported or disputed the Proposition is believed to be).  Implementers may choose to frame a
          strength assessment in terms of how *confident* an agent is that the Proposition is true or false, 
          or in terms of the *strength of all evidence* they believe supports or disputes it.
        $comment: >-
          Statements put forth a Proposition that expresses some possible fact about the world, and may provide
          an assessment of this proposition's validity (i.e. how likely it is to be true or false based on evaluated
          evidence). The semantics of the Proposition are captured in the 'subject,' 'predicate', 'object', and
          optional 'qualifier' attributes. An assessment of the Proposition's validity can be captured using 'direction',
          'strength', and 'score' attributes. The 'strength' attribute is used to report the strength of this
          assessment in the direction indicated. Strength can be framed as a *level of confidence* that the Proposition
          is true or false, or as a *level of evidence* that supports or disputes it. Data creators can define the
          permissible values for the 'strength' attribute to indicate which of these facets is being assessed
          (e.g. 'high confidence' vs 'low confidence', or 'strong evidence' vs 'weak evidence') - or they can choose
          values that don't commit to one or the other if they don't want to make the distinction (e.g. 'high' vs
          'medium' vs 'low').
        oneOf:
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"          
      score:
        type: number
        description: >-
          A quantitative score that indicates the strength of a Proposition's assessment in the direction indicated
          (i.e. how strongly supported or disputed the Proposition is believed to be).  Depending on its implementation,
          a score may reflect how *confident* that agent is that the Proposition is true or false, or the *strength of
          evidence* they believe supports or disputes it.
        $comment: >-
          Statements put forth a Proposition that expresses some possible fact about the world, and may provide an
          assessment of this proposition's validity (i.e. how likely it is to be true or false based on evaluated
          evidence). The semantics of the Proposition are captured in the 'subject', 'predicate', 'object', and optional
          'qualifier' attributes. The assessment of the Proposition's validity are captured in 'direction', 'strength',
          and 'score' attributes.  The 'score' attribute serves the same purpose as 'strength', but allows for a
          quantitative assessment based on a numerical score.
      statementText:
        type: string
        description: A natural-language expression of what a Statement asserts to be true.
        $comment: >-
          This attribute captures what a Statement says as human readable free text. e.g. that
          "BRCA2 c.8023A>G is pathogenic for Breast Cancer", or that "there is moderate evidence
          supporting the pathogenicity of BRCA2 c.8023A>G for Breast Cancer". This optional attribute 
          can be used instead of, or as a complement to, a structured representation of Statement 
          semantics that uses the subject-predicate-object-qualifier pattern.
      # Note that the `proposition` property below is a proposed addition to the Statement class that is not yet
      # implemented in the core IM.
      #
      # proposition:
      #   $ref: "#/$defs/Proposition"
      #   description:  >-
      #     A possible fact that the Statement assesses or puts forth as true. This attribute provides
      #     the option of encapsulating the structured semantics of the possible fact asserted or
      #     evaluated by a Statement in a separate 'Proposition' object - instead of using the subject,
      #     predicate, object, qualifier properties directly in the Statement object.
      subjectClassification:
        oneOf:
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"
        description: >-
          A single term or phrase summarizing the outcome of direction and strength
          assessments of a Statement's proposition, in terms of a classification of 
          its subject.
        $comment: >-
          Permissible values for this attribute are  typically selected to be succinct and familiar in
          the target community of practice - and can be provided to report of a statement's conclusion
          in user-friendly terms. For example, in a Statement assessing the proposition that
          "BRCA2 c.8023A>G is pathogenic for Breast Cancer", and reporting a direction of 'supports'
          and strength of 'likely', the term  'likely pathogenic' from the ACMG Variant Interpretation
          Guidelines would be used as a subject classification.
      hasEvidenceLines:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/EvidenceLine"
        description: >-
          An evidence-based argument that supports or disputes the validity of the proposition that a
          Statement assesses or puts forth as true. The strength and direction of this argument (whether
          it supports or disputes the proposition, and how strongly) is based on an interpretation
          of one or more pieces of information as evidence (i.e. 'Evidence Items).
        $comment: >-
          Evidence Lines result from the interpretation of one or more pieces of information to build an
          argument for or against a particular Proposition. These arguments have direction (supporting /
          disputing) and strength (e.g. strong, moderate, weak) relative to the Proposition they are
          evaluated against. For example, ExaC allele counts and frequency calculations for the
          BRCA2 c.8023A>G variant in different populations may be collectively assessed to provide an
          argument of 'moderate' strength in 'support of ' a proposition that the variant is pathogenicity
          for breast cancer.
          Evidence Lines are useful in cases where a data provider wants to describe in detail how information
          was assessed as evidence to generate and score different arguments for or against a Statement's
          proposition. Evidence Lines can be omitted if such information is not available or needed. 
    heritableRequired:
      - subject
      - predicate
      - object

  DataSet:
    inherits: InformationEntity
    maturity: draft
    type: object
    description: >-
      A collection of related data items or records that are organized together in a common format
      or structure, to enable their computational manipulation as a unit.
    $comment: >-
      Instances of this class represent a specific version of a given dataset. Examples include the
      gnomAD version 3.1.2 dataset carrying allele population frequencies, or a specific version of
      a VCF file that describes variations observed in a particular patient and various annotations
      made on them, or a SIFT dataset of computational predictions functional impact for a set of
      variants.
    properties:
      type:
        extends: type
        const: DataSet
        default: DataSet
        description: MUST be "DataSet".
      subtype:
        $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
        description: >-
          A specific type of data set the DataSet instance represents (e.g. a
          'clinical data set', a 'sequencing data set', a 'gene expression data set',
          a 'genome annotation data set')
        $comment: >-
          This attribute can be used to report a specific type for the DataSet,
          in cases where a model does not define DataSet subclasses for this purpose.
          Implementers can define their own set of data set type codes/terms, to match
          the needs of the domain or application.
      releaseDate:
        type: string
        format: datetime
        description: Indicates when a version of a Data Set was formally released.
        $comment: >-
          This attribute may apply to version and distribution-level DataSet representations.
          It refers to when the data set was released, which may be different than the data set
          was generated.
      version:
        type: string
        description: The version of the Data Set, as assigned by its creator.
        $comment: >-
          This property can capture version information for resources such as data sets and documents
          that get published and released as a unit for community use. These may go through rounds of
          revisions that add or modify content, but don’t change the identity of the resource. Use this
          attribute in cases where version is not reflected in an identifier associated with the data set.
      license:
        type: string
        description: >-
          A specific license that dictates legal permissions for how a data set can be used
          (by whom, where, for what purposes, with what additional requirements, etc.)
        $comment: >-
          Where possible, provide a URL pointing to the license or a description of it
          (e.g. "https://creativecommons.org/licenses/by/4.0/"). Otherwise, provide a free-text name or
          description of the license (e.g. "CC-BY").

  StudyResult:
    inherits: InformationEntity
    maturity: draft
    description: >-
      A collection of data items from a single study that pertain to a particular subject or
      experimental unit in the study, along with optional provenance information describing
      how these data items were generated.
    $comment: >-
      StudyResults provide a useful way to capture a subset of items from a study dataset that
      are used as evidence in generating higher order knowledge assertions about the entity that
      is the focus of the study result. For example, a subset of allele frequency data items
      about a particular variant of interest in the complete gnomAD dataset can be reported in a
      StudyResult object, along with relevant provenance information, so they can be referenced
      as evidence for a higher-order assertion about the variant's pathogenicity.
    heritableProperties:
      focus:
        oneOf:
          - $ref: "#/$defs/DomainEntity"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
          - $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/IRI"
        description: >-
          The specific subject or experimental unit in a Study that data in the StudyResult object is about -
          e.g. a particular variant in a population allele frequency dataset like ExAC or gnomAD.
      $comment: >-        
        The 'focus' of a StudyResult is the what anchors selection of all data items and provenance
        information that it contains. This focus may be a single participant or subject of a study
        (e.g. one patient in a clinical study, or one allele in a population frequency analysis).
        It may be a study group defined as an experimental unit in the study (e.g. a specific 
        treatment arm of a clinical study). Or it may be a variable defined as a unit of analysis
        in the study (e.g. 'exposure to nicotine' in an analysis correlating this variable with
        clinical outcomes). 
      sourceDataSet:
        extends: derivedFrom
        items:
          $ref: "#/$defs/DataSet"
        maximum: 1
        description: >-
          A larger DataSet from which the content of the StudyResult was derived.
        $comment: >-
          In most cases, a StudyResult will be generated using data from one source dataset - but it is
          possible multiple datasets related to a single study contain data about a particular focus that
          get collected into a single StudyResult instance.
      componentResult:
        type: array
        ordered: false
        items:
          $ref: "#/$defs/StudyResult"
        description: >-
          Another StudyResult comprised of data items about the same focus as its parent Result, but based on a more narrowly
          scoped analysis of the foundational data (e.g. an analysis based on data about a subset of the parent Results
          full study population) .
        $comment: >-
          This attribute allows data creators to break down a StudyResult into finer-grained StudyResult instances with a
          narrower scope. For example, a StudyResult about the frequency of an allele in a global population of individuals
          can be broken down into separate 'component' Results about distinct subpopulations of individuals in the source data
          (e.g. frequency of the allele in asian vs african subpopulations, or male vs female subgroups).
      studyGroup:
        $ref: "#/$defs/StudyGroup"
        description: >-
          A description of a specific group or population of subjects interrogated in the ResearchStudy that produced the
          data captured in the StudyResult.
        $comment: >-
          For example, in a StudyResult holding allele frequency data, this attribute points to a StudyGroup object that
          describes characteristics of the population that the frequency data was generated from (e.g. 'East Asian', 'Female').  
      ancillaryResults:
        maturity: draft
        $comment: This field is different from most GKS objects by allowing any content to be added, and so is independently versioned.
        type: object
        additionalProperties: true
      qualityMeasures:
        maturity: draft
        $comment: This field is different from most GKS objects by allowing any content to be added, and so is independently versioned.
        type: object
        additionalProperties: true

  StudyGroup:
    inherits: Entity
    maturity: draft
    type: object
    description: >-
      A collection of individuals or specimens from the same taxonomic class, selected for analysis in a
      scientific study based on their exhibiting one or more common characteristics  (e.g. species, race,
      age, gender, disease state, income) May be referred to as a 'cohort' or 'population' in specific
      research settings.
    $comment: >-
      A Study Group may include all participants in a given study, or specific subsets that are designated
      based on shared roles or characteristics.
    properties:
      type:
        extends: type
        const: StudyGroup
        default: StudyGroup
        description: Must be "StudyGroup"
      memberCount:
        type: integer
        description: The total number of individual members in the StudyGroup.
      isSubsetOf:
        type: array
        items:
          $ref: "#/$defs/StudyGroup"
        ordered: false
        description: A larger StudyGroup of which this StudyGroup represents a subset.
      characteristics:
        type: array
        items:
          $ref: "#/$defs/Characteristic"
        ordered: false
        description: >-
          A feature or role shared by all members of the StudyGroup, representing a criterion for
          membership in the group.

  Characteristic:
    type: object
    maturity: draft
    description: >-
      An object holding a name-value pair used to describe a trait or role of an individual
      member of a StudyGroup.
    $comment: >-
      This flexible key-value like object is where specific inclusion or exclusion criteria for
      membership in a StudyGroup are formally defined. It should be used to capture characteristics
      that inhere in individual members of the StudyGroup (e.g. inherent traits like their sex, race,
      or age, or roles assigned to them in a particular context such as being a control in a study).
    properties:
      name:
        type: string
        description: >-
          The type of the trait  or role described by the trait (e.g. 'ethnicity', 'sex', 'age',
          'disease status').
      value:
        type: string
        description: >-
          The specific value(s) that the indicated traitor role  holds in all population members
          (e.g. 'east asian', 'female', 'adolescent', 'cancer').
      valueOperator:
        type: boolean
        description: >-
          An operation that defines how to logically interpret a set of more than one Characteristic
          values ('AND', 'OR', 'NOT')
        $comment: >-
          An 'AND' operator indicates that an individual exhibits all of the characteristic values listed.
          An 'OR' operator indicates the individual exhibits one or more of the characteristic values listed.
          A 'NOT' indicates that the individual does not exhibit the characteristic value or values listed. 
    required:
      - name
      - value


  # Note that the `Proposition` class below is a proposed addition to both the Statement and EvidenceLine
  # classes that is not yet implemented in the core IM.
  #
  # Proposition:
  #   inherits: Entity
  #   maturity: draft
  #   type: object
  #   description: >-
  #     The abstract entity representing a possible fact that may be put forth as true, or subjected to
  #     an evidence-based assessment, by a Statement. As abstract entities, their identity and existence
  #     are independent of space and time, and whether they are ever asserted to be true by some agent.
  #     Propositions may be used in two contexts; (1) by Statements that assert them to be true or false,
  #     or describe the overall level of confidence/evidence for or against them; (2) by Evidence Lines that
  #     report the direction and strength of an evidence-based argument for the Proposition.
  #   properties:
  #     type:
  #       extends: type
  #       const: Proposition
  #       default: Proposition
  #       description: Must be "Proposition"
  #     propositionText:
  #       type: string
  #       description: >-
  #        A natural-language expression of the Proposition's meaning. e.g. "BRCA2 c.8023A>G is pathogenic for
  #        Breast Cancer".
  #     subject:
  #       type:
  #         $ref: "#/$defs/Entity"
  #       description: The Entity or concept about which the Proposition is made.
  #     predicate:
  #       type:
  #         $ref: "/ga4gh/schema/gks-common/1.x/data-types/json/Coding"
  #       description: The relationship asserted to hold between the subject and the object of the Proposition.
  #     object:
  #       type:
  #         $ref: "#/$defs/Entity"
  #       description: An Entity that is related to the subject of a Proposition via its predicate.
  #     negated:
  #       type: boolean
  #       description: >-
  #         A boolean flag set to 'true' to represent a negation of the proposition expressed by the subject, predicate,
  #         object, and qualifiers (e.g. that "Variant X is NOT pathogenic for Disease Y")/
  #   heritableRequired:
  #     - subject
  #     - predicate
  #     - object
